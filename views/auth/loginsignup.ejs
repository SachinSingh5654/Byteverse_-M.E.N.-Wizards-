<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Health Partnership</title>
  <link rel="stylesheet" href="./css/loginsignup.css">
</head>
<body>

  <div class="container">
    <% if (locals.messages) { %>
      <% if (messages.success && messages.success.length > 0) { %>
        <div class="flash-toast success">
          <%= messages.success[0] %>
            <span class="close-btn">&times;</span>
        </div>
        <% } %>

          <% if (messages.error && messages.error.length > 0) { %>
            <div class="flash-toast error">
              <%= messages.error[0] %>
                <span class="close-btn">&times;</span>
            </div>
            <% } %>

              <% if (messages.failure && messages.failure.length > 0) { %>
                <div class="flash-toast error">
                  <%= messages.failure[0] %>
                    <span class="close-btn">&times;</span>
                </div>
                <% } %>
                  <% } %>

                    <!-- Signup Form -->
                    <div class="form-box signup-box">
                      <h2>Create an Account</h2>
                      <p>Sign up now to get started with an account.</p>
                      <div class="message-box">Have a nice Journey with us!</div>
                      <form action="/signup" method="POST">
                        <input type="text" name="username" placeholder="Username" required>
                        <input type="email" name="email" placeholder="Email Address" required>
                        <input type="password" name="password" placeholder="Password" required>
                        <input type="password" name="confirm-password" placeholder="Confirm Password" required>
                        <label>
                          <input type="checkbox" name="terms" required> I have read and agree to the <a href="/terms">Terms of Service</a>
                        </label>
                        <br>
                        <button type="submit">Register</button>
                      </form>
                    </div>

                    <!-- Health Quote Section -->
                    <div class="quote-section">
                      <h1>Good health is a partnership between you and your doctor.</h1>
                      <div class="social-links">
                        <a href="https://www.facebook.com/" target="_blank">Facebook</a>
                        <a href="https://www.instagram.com/" target="_blank">Instagram</a>
                      </div>
                    </div>

                    <!-- Login Form -->
                    <div class="form-box login-box">
                      <h2>Log in to your Account</h2>
                      <p>Welcome back, please enter your details.</p>
                      <div class="message-box">Good to see you Again !</div>
                      <form action="/login" method="POST">
                        <input type="email" name="email" placeholder="Email Address" required>
                        <input type="password" name="password" placeholder="Password" required>
                        <button type="submit">Log in</button>
                      </form>
                    </div>

  </div>

  <!-- <script src="./js/flashing.js"></script> -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Auto-dismiss flash messages after 5 seconds
      const flashMessages = document.querySelectorAll('.flash-toast');

      flashMessages.forEach(message => {
        // Auto-hide after 5 seconds
        setTimeout(() => {
          message.style.animation = 'slideOut 0.5s forwards';
          setTimeout(() => message.remove(), 500);
        }, 5000);

        // Manual close button
        const closeBtn = message.querySelector('.close-btn');
        if (closeBtn) {
          closeBtn.addEventListener('click', () => {
            message.style.animation = 'slideOut 0.5s forwards';
            setTimeout(() => message.remove(), 500);
          });
        }
      });
    });
  </script>
</body>
</html>